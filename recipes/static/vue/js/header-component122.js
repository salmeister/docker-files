"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[208],{84375:function(e,s,n){n.r(s);var t=n(72123),r=n(3150),a=n(1001),o=(0,a.Z)(r.Z,t.s,t.x,!1,null,"0e6f56b4",null);s["default"]=o.exports},3150:function(e,s,n){var t=n(78696);s["Z"]=t.Z},72123:function(e,s,n){n.d(s,{s:function(){return t},x:function(){return r}});var t=function(){var e=this,s=e.$createElement,n=e._self._c||s;return void 0!==e.user_preferences?n("div",[n("b-form-group",{attrs:{label:e.$t("shopping_share"),description:e.$t("shopping_share_desc")}},[n("generic-multiselect",{attrs:{model:e.Models.USER,initial_selection:e.user_preferences.shopping_share,label:"display_name",multiple:!0,placeholder:e.$t("User")},on:{change:function(s){e.user_preferences.shopping_share=s.val,e.updateSettings(!1)}}})],1),n("b-form-group",{attrs:{label:e.$t("shopping_auto_sync"),description:e.$t("shopping_auto_sync_desc")}},[n("b-form-input",{attrs:{type:"range",min:e.SHOPPING_MIN_AUTOSYNC_INTERVAL,max:"60",step:"1"},on:{change:function(s){return e.updateSettings(!1)}},model:{value:e.user_preferences.shopping_auto_sync,callback:function(s){e.$set(e.user_preferences,"shopping_auto_sync",s)},expression:"user_preferences.shopping_auto_sync"}}),n("div",{staticClass:"text-center"},[e.user_preferences.shopping_auto_sync>0?n("span",[e._v(" "+e._s(Math.round(e.user_preferences.shopping_auto_sync))+" "),1===e.user_preferences.shopping_auto_sync?n("span",[e._v(e._s(e.$t("Second")))]):n("span",[e._v(" "+e._s(e.$t("Seconds")))])]):e._e(),e.user_preferences.shopping_auto_sync<1?n("span",[e._v(e._s(e.$t("Disable")))]):e._e()]),n("br"),n("b-button",{staticClass:"btn btn-sm",on:{click:function(s){e.user_preferences.shopping_auto_sync=0}}},[e._v(e._s(e.$t("Disabled")))])],1),n("b-form-group",{attrs:{description:e.$t("mealplan_autoadd_shopping_desc")}},[n("b-form-checkbox",{on:{change:function(s){return e.updateSettings(!1)}},model:{value:e.user_preferences.mealplan_autoadd_shopping,callback:function(s){e.$set(e.user_preferences,"mealplan_autoadd_shopping",s)},expression:"user_preferences.mealplan_autoadd_shopping"}},[e._v(e._s(e.$t("mealplan_autoadd_shopping"))+" ")])],1),n("b-form-group",{attrs:{description:e.$t("mealplan_autoexclude_onhand_desc")}},[n("b-form-checkbox",{on:{change:function(s){return e.updateSettings(!1)}},model:{value:e.user_preferences.mealplan_autoexclude_onhand,callback:function(s){e.$set(e.user_preferences,"mealplan_autoexclude_onhand",s)},expression:"user_preferences.mealplan_autoexclude_onhand"}},[e._v(e._s(e.$t("mealplan_autoexclude_onhand"))+" ")])],1),n("b-form-group",{attrs:{description:e.$t("mealplan_autoinclude_related_desc")}},[n("b-form-checkbox",{on:{change:function(s){return e.updateSettings(!1)}},model:{value:e.user_preferences.mealplan_autoinclude_related,callback:function(s){e.$set(e.user_preferences,"mealplan_autoinclude_related",s)},expression:"user_preferences.mealplan_autoinclude_related"}},[e._v(e._s(e.$t("mealplan_autoinclude_related"))+" ")])],1),n("b-form-group",{attrs:{description:e.$t("shopping_add_onhand_desc")}},[n("b-form-checkbox",{on:{change:function(s){return e.updateSettings(!1)}},model:{value:e.user_preferences.shopping_add_onhand,callback:function(s){e.$set(e.user_preferences,"shopping_add_onhand",s)},expression:"user_preferences.shopping_add_onhand"}},[e._v(e._s(e.$t("shopping_add_onhand"))+" ")])],1),n("b-form-group",{attrs:{label:e.$t("default_delay"),description:e.$t("default_delay_desc")}},[n("b-form-input",{attrs:{type:"range",min:"1",max:"72",step:"1"},on:{change:function(s){return e.updateSettings(!1)}},model:{value:e.user_preferences.default_delay,callback:function(s){e.$set(e.user_preferences,"default_delay",s)},expression:"user_preferences.default_delay"}}),n("div",{staticClass:"text-center"},[n("span",[e._v(e._s(Math.round(e.user_preferences.default_delay))+" "),1===e.user_preferences.default_delay?n("span",[e._v(e._s(e.$t("Hour")))]):n("span",[e._v(" "+e._s(e.$t("Hours")))])])])],1),n("b-form-group",{attrs:{description:e.$t("filter_to_supermarket_desc")}},[n("b-form-checkbox",{on:{change:function(s){return e.updateSettings(!1)}},model:{value:e.user_preferences.filter_to_supermarket,callback:function(s){e.$set(e.user_preferences,"filter_to_supermarket",s)},expression:"user_preferences.filter_to_supermarket"}},[e._v(e._s(e.$t("filter_to_supermarket"))+" ")])],1),n("b-form-group",{attrs:{label:e.$t("shopping_recent_days"),description:e.$t("shopping_recent_days_desc")}},[n("b-form-input",{attrs:{type:"range",min:"0",max:"14",step:"1"},on:{change:function(s){return e.updateSettings(!1)}},model:{value:e.user_preferences.shopping_recent_days,callback:function(s){e.$set(e.user_preferences,"shopping_recent_days",s)},expression:"user_preferences.shopping_recent_days"}}),n("div",{staticClass:"text-center"},[n("span",[e._v(e._s(Math.round(e.user_preferences.shopping_recent_days))+" "),1===e.user_preferences.shopping_recent_days?n("span",[e._v(e._s(e.$t("Day")))]):n("span",[e._v(" "+e._s(e.$t("Days")))])])])],1),n("b-form-group",{attrs:{label:e.$t("csv_delim_label"),description:e.$t("csv_delim_help")}},[n("b-form-input",{on:{change:function(s){return e.updateSettings(!1)}},model:{value:e.user_preferences.csv_delim,callback:function(s){e.$set(e.user_preferences,"csv_delim",s)},expression:"user_preferences.csv_delim"}})],1),n("b-form-group",{attrs:{label:e.$t("csv_prefix_label"),description:e.$t("csv_prefix_help")}},[n("b-form-input",{on:{change:function(s){return e.updateSettings(!1)}},model:{value:e.user_preferences.csv_prefix,callback:function(s){e.$set(e.user_preferences,"csv_prefix",s)},expression:"user_preferences.csv_prefix"}})],1)],1):e._e()},r=[]},78696:function(e,s,n){var t=n(70846),r=n(4222),a=n(9669),o=n.n(a),p=n(26678);o().defaults.xsrfCookieName="csrftoken",o().defaults.xsrfHeaderName="X-CSRFTOKEN",s["Z"]={name:"ShoppingSettingsComponent",mixins:[r.ApiMixin],components:{GenericMultiselect:p["default"]},props:{user_id:Number},data(){return{user_preferences:void 0,SHOPPING_MIN_AUTOSYNC_INTERVAL:window.SHOPPING_MIN_AUTOSYNC_INTERVAL,languages:[]}},mounted(){this.user_preferences=this.preferences,this.languages=window.AVAILABLE_LANGUAGES,this.loadSettings()},methods:{loadSettings:function(){let e=new t.ApiApiFactory;e.retrieveUserPreference(this.user_id.toString()).then((e=>{this.user_preferences=e.data})).catch((e=>{r.StandardToasts.makeStandardToast(this,r.StandardToasts.FAIL_FETCH,e)}))},updateSettings:function(e){let s=new t.ApiApiFactory;this.$emit("updated",this.user_preferences),s.partialUpdateUserPreference(this.user_id.toString(),this.user_preferences).then((s=>{r.StandardToasts.makeStandardToast(this,r.StandardToasts.SUCCESS_UPDATE),e&&location.reload()})).catch((e=>{r.StandardToasts.makeStandardToast(this,r.StandardToasts.FAIL_UPDATE,e)}))}}}}}]);