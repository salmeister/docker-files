"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[208],{84375:function(e,n,s){s.r(n);var t=s(72123),r=s(3150),a=s(1001),o=(0,a.Z)(r.Z,t.s,t.x,!1,null,"0e6f56b4",null);n["default"]=o.exports},3150:function(e,n,s){var t=s(78696);n["Z"]=t.Z},72123:function(e,n,s){s.d(n,{s:function(){return t},x:function(){return r}});var t=function(){var e=this,n=e.$createElement,s=e._self._c||n;return void 0!==e.user_preferences?s("div",[s("b-form-group",{attrs:{label:e.$t("shopping_share"),description:e.$t("shopping_share_desc")}},[s("generic-multiselect",{attrs:{model:e.Models.USER,initial_selection:e.user_preferences.shopping_share,label:"display_name",multiple:!0,placeholder:e.$t("User")},on:{change:function(n){e.user_preferences.shopping_share=n.val,e.updateSettings(!1)}}})],1),s("b-form-group",{attrs:{label:e.$t("shopping_auto_sync"),description:e.$t("shopping_auto_sync_desc")}},[s("b-form-input",{attrs:{type:"range",min:e.SHOPPING_MIN_AUTOSYNC_INTERVAL,max:"60",step:"1"},on:{change:function(n){return e.updateSettings(!1)}},model:{value:e.user_preferences.shopping_auto_sync,callback:function(n){e.$set(e.user_preferences,"shopping_auto_sync",n)},expression:"user_preferences.shopping_auto_sync"}}),s("div",{staticClass:"text-center"},[e.user_preferences.shopping_auto_sync>0?s("span",[e._v(" "+e._s(Math.round(e.user_preferences.shopping_auto_sync))+" "),1===e.user_preferences.shopping_auto_sync?s("span",[e._v(e._s(e.$t("Second")))]):s("span",[e._v(" "+e._s(e.$t("Seconds")))])]):e._e(),e.user_preferences.shopping_auto_sync<1?s("span",[e._v(e._s(e.$t("Disable")))]):e._e()]),s("br"),s("b-button",{staticClass:"btn btn-sm",on:{click:function(n){e.user_preferences.shopping_auto_sync=0}}},[e._v(e._s(e.$t("Disabled")))])],1),s("b-form-group",{attrs:{description:e.$t("mealplan_autoadd_shopping_desc")}},[s("b-form-checkbox",{on:{change:function(n){return e.updateSettings(!1)}},model:{value:e.user_preferences.mealplan_autoadd_shopping,callback:function(n){e.$set(e.user_preferences,"mealplan_autoadd_shopping",n)},expression:"user_preferences.mealplan_autoadd_shopping"}},[e._v(e._s(e.$t("mealplan_autoadd_shopping"))+" ")])],1),s("b-form-group",{attrs:{description:e.$t("mealplan_autoexclude_onhand_desc")}},[s("b-form-checkbox",{on:{change:function(n){return e.updateSettings(!1)}},model:{value:e.user_preferences.mealplan_autoexclude_onhand,callback:function(n){e.$set(e.user_preferences,"mealplan_autoexclude_onhand",n)},expression:"user_preferences.mealplan_autoexclude_onhand"}},[e._v(e._s(e.$t("mealplan_autoexclude_onhand"))+" ")])],1),s("b-form-group",{attrs:{description:e.$t("mealplan_autoinclude_related_desc")}},[s("b-form-checkbox",{on:{change:function(n){return e.updateSettings(!1)}},model:{value:e.user_preferences.mealplan_autoinclude_related,callback:function(n){e.$set(e.user_preferences,"mealplan_autoinclude_related",n)},expression:"user_preferences.mealplan_autoinclude_related"}},[e._v(e._s(e.$t("mealplan_autoinclude_related"))+" ")])],1),s("b-form-group",{attrs:{description:e.$t("shopping_add_onhand_desc")}},[s("b-form-checkbox",{on:{change:function(n){return e.updateSettings(!1)}},model:{value:e.user_preferences.shopping_add_onhand,callback:function(n){e.$set(e.user_preferences,"shopping_add_onhand",n)},expression:"user_preferences.shopping_add_onhand"}},[e._v(e._s(e.$t("shopping_add_onhand"))+" ")])],1),s("b-form-group",{attrs:{label:e.$t("default_delay"),description:e.$t("default_delay_desc")}},[s("b-form-input",{attrs:{type:"range",min:"1",max:"72",step:"1"},on:{change:function(n){return e.updateSettings(!1)}},model:{value:e.user_preferences.default_delay,callback:function(n){e.$set(e.user_preferences,"default_delay",n)},expression:"user_preferences.default_delay"}}),s("div",{staticClass:"text-center"},[s("span",[e._v(e._s(Math.round(e.user_preferences.default_delay))+" "),1===e.user_preferences.default_delay?s("span",[e._v(e._s(e.$t("Hour")))]):s("span",[e._v(" "+e._s(e.$t("Hours")))])])])],1),s("b-form-group",{attrs:{description:e.$t("filter_to_supermarket_desc")}},[s("b-form-checkbox",{on:{change:function(n){return e.updateSettings(!1)}},model:{value:e.user_preferences.filter_to_supermarket,callback:function(n){e.$set(e.user_preferences,"filter_to_supermarket",n)},expression:"user_preferences.filter_to_supermarket"}},[e._v(e._s(e.$t("filter_to_supermarket"))+" ")])],1),s("b-form-group",{attrs:{label:e.$t("shopping_recent_days"),description:e.$t("shopping_recent_days_desc")}},[s("b-form-input",{attrs:{type:"range",min:"0",max:"14",step:"1"},on:{change:function(n){return e.updateSettings(!1)}},model:{value:e.user_preferences.shopping_recent_days,callback:function(n){e.$set(e.user_preferences,"shopping_recent_days",n)},expression:"user_preferences.shopping_recent_days"}}),s("div",{staticClass:"text-center"},[s("span",[e._v(e._s(Math.round(e.user_preferences.shopping_recent_days))+" "),1===e.user_preferences.shopping_recent_days?s("span",[e._v(e._s(e.$t("Day")))]):s("span",[e._v(" "+e._s(e.$t("Days")))])])])],1),s("b-form-group",{attrs:{label:e.$t("csv_delim_label"),description:e.$t("csv_delim_help")}},[s("b-form-input",{on:{change:function(n){return e.updateSettings(!1)}},model:{value:e.user_preferences.csv_delim,callback:function(n){e.$set(e.user_preferences,"csv_delim",n)},expression:"user_preferences.csv_delim"}})],1),s("b-form-group",{attrs:{label:e.$t("csv_prefix_label"),description:e.$t("csv_prefix_help")}},[s("b-form-input",{on:{change:function(n){return e.updateSettings(!1)}},model:{value:e.user_preferences.csv_prefix,callback:function(n){e.$set(e.user_preferences,"csv_prefix",n)},expression:"user_preferences.csv_prefix"}})],1)],1):e._e()},r=[]},78696:function(e,n,s){s(9653),s(41539),s(39714);var t=s(70846),r=s(4222),a=s(9669),o=s.n(a),p=s(26678);o().defaults.xsrfCookieName="csrftoken",o().defaults.xsrfHeaderName="X-CSRFTOKEN",n["Z"]={name:"ShoppingSettingsComponent",mixins:[r.ApiMixin],components:{GenericMultiselect:p["default"]},props:{user_id:Number},data:function(){return{user_preferences:void 0,SHOPPING_MIN_AUTOSYNC_INTERVAL:window.SHOPPING_MIN_AUTOSYNC_INTERVAL,languages:[]}},mounted:function(){this.user_preferences=this.preferences,this.languages=window.AVAILABLE_LANGUAGES,this.loadSettings()},methods:{loadSettings:function(){var e=this,n=new t.ApiApiFactory;n.retrieveUserPreference(this.user_id.toString()).then((function(n){e.user_preferences=n.data})).catch((function(n){r.StandardToasts.makeStandardToast(e,r.StandardToasts.FAIL_FETCH,n)}))},updateSettings:function(e){var n=this,s=new t.ApiApiFactory;this.$emit("updated",this.user_preferences),s.partialUpdateUserPreference(this.user_id.toString(),this.user_preferences).then((function(s){r.StandardToasts.makeStandardToast(n,r.StandardToasts.SUCCESS_UPDATE),e&&location.reload()})).catch((function(e){r.StandardToasts.makeStandardToast(n,r.StandardToasts.FAIL_UPDATE,e)}))}}}}}]);