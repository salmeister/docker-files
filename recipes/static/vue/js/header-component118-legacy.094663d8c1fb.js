"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[756],{19222:function(e,t,n){n.r(t);var a=n(40526),r=n(64070),s=n(1001),i=(0,s.Z)(r.Z,a.s,a.x,!1,null,"2b9980dc",null);t["default"]=i.exports},64070:function(e,t,n){var a=n(91461);t["Z"]=a.Z},40526:function(e,t,n){n.d(t,{s:function(){return a},x:function(){return r}});var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return void 0!==e.user_preferences?n("div",[n("b-form-group",{attrs:{label:e.$t("Share"),description:e.$t("plan_share_desc")}},[n("generic-multiselect",{attrs:{model:e.Models.USER,initial_selection:e.user_preferences.plan_share,label:"display_name",multiple:!0,placeholder:e.$t("User")},on:{change:function(t){e.user_preferences.plan_share=t.val,e.updateSettings(!1)}}})],1)],1):e._e()},r=[]},91461:function(e,t,n){n(9653),n(41539),n(39714);var a=n(70846),r=n(4222),s=n(9669),i=n.n(s),o=n(26678);i().defaults.xsrfCookieName="csrftoken",i().defaults.xsrfHeaderName="X-CSRFTOKEN";t["Z"]={name:"MealPlanSettingsComponent",mixins:[r.ApiMixin],components:{GenericMultiselect:o["default"]},props:{user_id:Number},data:function(){return{user_preferences:void 0,languages:[]}},mounted:function(){this.user_preferences=this.preferences,this.languages=window.AVAILABLE_LANGUAGES,this.loadSettings()},methods:{loadSettings:function(){var e=this,t=new a.ApiApiFactory;t.retrieveUserPreference(this.user_id.toString()).then((function(t){e.user_preferences=t.data})).catch((function(t){r.StandardToasts.makeStandardToast(e,r.StandardToasts.FAIL_FETCH,t)}))},updateSettings:function(e){var t=this,n=new a.ApiApiFactory;n.partialUpdateUserPreference(this.user_id.toString(),this.user_preferences).then((function(n){r.StandardToasts.makeStandardToast(t,r.StandardToasts.SUCCESS_UPDATE),e&&location.reload()})).catch((function(e){r.StandardToasts.makeStandardToast(t,r.StandardToasts.FAIL_UPDATE,e)}))}}}}}]);