"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[796],{82324:function(t,a,e){e.r(a);var s=e(35370),r=e(54289),n=e(1001),o=(0,n.Z)(r.Z,s.s,s.x,!1,null,"27f0fb14",null);a["default"]=o.exports},54289:function(t,a,e){var s=e(88381);a["Z"]=s.Z},35370:function(t,a,e){e.d(a,{s:function(){return s},x:function(){return r}});var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[void 0!==t.user?e("div",[e("b-form-group",{attrs:{label:t.$t("Username")}},[e("b-form-input",{attrs:{disabled:""},on:{change:function(a){return t.updateUser(!1)}},model:{value:t.user.username,callback:function(a){t.$set(t.user,"username",a)},expression:"user.username"}})],1),e("b-form-group",{attrs:{label:t.$t("First_name")}},[e("b-form-input",{attrs:{placeholder:t.$t("First_name")},on:{change:function(a){return t.updateUser(!1)}},model:{value:t.user.first_name,callback:function(a){t.$set(t.user,"first_name",a)},expression:"user.first_name"}})],1),e("b-form-group",{attrs:{label:t.$t("Last_name")}},[e("b-form-input",{attrs:{placeholder:t.$t("Last_name")},on:{change:function(a){return t.updateUser(!1)}},model:{value:t.user.last_name,callback:function(a){t.$set(t.user,"last_name",a)},expression:"user.last_name"}})],1)],1):t._e(),e("b-button-toolbar",[e("b-button-group",{staticClass:"mx-1"},[e("a",{staticClass:"btn btn-primary",attrs:{href:t.resolveDjangoUrl("account_email")}},[t._v(t._s(t.$t("Manage_Emails")))])]),e("b-button-group",{staticClass:"mx-1"},[e("a",{staticClass:"btn btn-primary",attrs:{href:t.resolveDjangoUrl("account_change_password")}},[t._v(t._s(t.$t("Change_Password")))])]),e("b-button-group",{staticClass:"mx-1"},[e("a",{staticClass:"btn btn-primary",attrs:{href:t.resolveDjangoUrl("socialaccount_connections")}},[t._v(t._s(t.$t("Social_Authentication")))])])],1)],1)},r=[]},88381:function(t,a,e){var s=e(70846),r=e(4222),n=e(9669),o=e.n(n);o().defaults.xsrfCookieName="csrftoken",o().defaults.xsrfHeaderName="X-CSRFTOKEN",a["Z"]={name:"AccountSettingsComponent",mixins:[r.ResolveUrlMixin],props:{user_id:Number},data(){return{user_preferences:void 0,user:void 0,languages:[]}},mounted(){this.user_preferences=this.preferences,this.languages=window.AVAILABLE_LANGUAGES,this.loadSettings()},methods:{loadSettings:function(){let t=new s.ApiApiFactory;t.retrieveUserPreference(this.user_id.toString()).then((t=>{this.user_preferences=t.data})).catch((t=>{r.StandardToasts.makeStandardToast(this,r.StandardToasts.FAIL_FETCH,t)})),t.retrieveUser(this.user_id.toString()).then((t=>{this.user=t.data})).catch((t=>{r.StandardToasts.makeStandardToast(this,r.StandardToasts.FAIL_FETCH,t)}))},updateSettings:function(t){let a=new s.ApiApiFactory;a.partialUpdateUserPreference(this.user_id.toString(),this.user_preferences).then((a=>{r.StandardToasts.makeStandardToast(this,r.StandardToasts.SUCCESS_UPDATE),void 0!==t&&location.reload()})).catch((t=>{r.StandardToasts.makeStandardToast(this,r.StandardToasts.FAIL_UPDATE,t)}))},updateUser:function(t){let a=new s.ApiApiFactory;a.partialUpdateUser(this.user_id.toString(),this.user).then((a=>{r.StandardToasts.makeStandardToast(this,r.StandardToasts.SUCCESS_UPDATE),t&&location.reload()})).catch((t=>{r.StandardToasts.makeStandardToast(this,r.StandardToasts.FAIL_UPDATE,t)}))}}}}}]);