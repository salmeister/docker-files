"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[796],{82324:function(t,a,e){e.r(a);var n=e(35370),s=e(54289),r=e(1001),o=(0,r.Z)(s.Z,n.s,n.x,!1,null,"27f0fb14",null);a["default"]=o.exports},54289:function(t,a,e){var n=e(88381);a["Z"]=n.Z},35370:function(t,a,e){e.d(a,{s:function(){return n},x:function(){return s}});var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[void 0!==t.user?e("div",[e("b-form-group",{attrs:{label:t.$t("Username")}},[e("b-form-input",{attrs:{disabled:""},on:{change:function(a){return t.updateUser(!1)}},model:{value:t.user.username,callback:function(a){t.$set(t.user,"username",a)},expression:"user.username"}})],1),e("b-form-group",{attrs:{label:t.$t("First_name")}},[e("b-form-input",{attrs:{placeholder:t.$t("First_name")},on:{change:function(a){return t.updateUser(!1)}},model:{value:t.user.first_name,callback:function(a){t.$set(t.user,"first_name",a)},expression:"user.first_name"}})],1),e("b-form-group",{attrs:{label:t.$t("Last_name")}},[e("b-form-input",{attrs:{placeholder:t.$t("Last_name")},on:{change:function(a){return t.updateUser(!1)}},model:{value:t.user.last_name,callback:function(a){t.$set(t.user,"last_name",a)},expression:"user.last_name"}})],1)],1):t._e(),e("b-button-toolbar",[e("b-button-group",{staticClass:"mx-1"},[e("a",{staticClass:"btn btn-primary",attrs:{href:t.resolveDjangoUrl("account_email")}},[t._v(t._s(t.$t("Manage_Emails")))])]),e("b-button-group",{staticClass:"mx-1"},[e("a",{staticClass:"btn btn-primary",attrs:{href:t.resolveDjangoUrl("account_change_password")}},[t._v(t._s(t.$t("Change_Password")))])]),e("b-button-group",{staticClass:"mx-1"},[e("a",{staticClass:"btn btn-primary",attrs:{href:t.resolveDjangoUrl("socialaccount_connections")}},[t._v(t._s(t.$t("Social_Authentication")))])])],1)],1)},s=[]},88381:function(t,a,e){e(9653),e(41539),e(39714);var n=e(70846),s=e(4222),r=e(9669),o=e.n(r);o().defaults.xsrfCookieName="csrftoken",o().defaults.xsrfHeaderName="X-CSRFTOKEN",a["Z"]={name:"AccountSettingsComponent",mixins:[s.ResolveUrlMixin],props:{user_id:Number},data:function(){return{user_preferences:void 0,user:void 0,languages:[]}},mounted:function(){this.user_preferences=this.preferences,this.languages=window.AVAILABLE_LANGUAGES,this.loadSettings()},methods:{loadSettings:function(){var t=this,a=new n.ApiApiFactory;a.retrieveUserPreference(this.user_id.toString()).then((function(a){t.user_preferences=a.data})).catch((function(a){s.StandardToasts.makeStandardToast(t,s.StandardToasts.FAIL_FETCH,a)})),a.retrieveUser(this.user_id.toString()).then((function(a){t.user=a.data})).catch((function(a){s.StandardToasts.makeStandardToast(t,s.StandardToasts.FAIL_FETCH,a)}))},updateSettings:function(t){var a=this,e=new n.ApiApiFactory;e.partialUpdateUserPreference(this.user_id.toString(),this.user_preferences).then((function(e){s.StandardToasts.makeStandardToast(a,s.StandardToasts.SUCCESS_UPDATE),void 0!==t&&location.reload()})).catch((function(t){s.StandardToasts.makeStandardToast(a,s.StandardToasts.FAIL_UPDATE,t)}))},updateUser:function(t){var a=this,e=new n.ApiApiFactory;e.partialUpdateUser(this.user_id.toString(),this.user).then((function(e){s.StandardToasts.makeStandardToast(a,s.StandardToasts.SUCCESS_UPDATE),t&&location.reload()})).catch((function(t){s.StandardToasts.makeStandardToast(a,s.StandardToasts.FAIL_UPDATE,t)}))}}}}}]);